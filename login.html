<!-- FILEPATH: /home/marioguerra2002/Development web/assigment1/src/login.html -->

<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Log in</title>
  <link rel="stylesheet" href="css/login.css">

</head>
<body>
  <header id="main-header">
    <nav>
        <div>
            <a href="index.html"><img id="logoHeader" alt="Burger image" src="https://i.pinimg.com/originals/30/3c/d5/303cd5c4e2169130a9ddd90bfab76982.png"></a>
        </div>
        <div id="navegation">
          <!-- Links to other pages -->
          <a id="indexName" href="index.html">Home</a>
          <a id="healthyFoodPage" href="healthyFood.html">Healthy Food</a>
            <a id="quizzPage" href="quizz.html">Quizz</a>
        </div>
    </nav>
  </header>
  <h1>Log in</h1>

  <form id="loginForm" onsubmit="return CheckEntry()"> <!-- Function call with the information below-->
    <label for="username">Username:</label>
    <input type="text" id="username" name="username" required>
 
    <label for="password">Password:</label>
    <input type="password" id="password" name="password" required>

    <svg width="200" height="100" xmlns="http://www.w3.org/2000/svg">
      <rect width="200" height="300" fill="yellow" />
      <foreignObject x="50" y="50" width="100" height="40">
        <button type="submit" style="width: 100%; height: 100%;">Submit</button>
      </foreignObject>
    </svg>
  </form>

  <script>
    function CheckEntry() {
      var username = document.getElementById("username").value; // Take the value of the username
      var password = document.getElementById("password").value; // Take the value of the password
      if (password.length >= 8) {
        // variables to check the conditions
        var flag = true;
        var CapitalCounter = 0;
        var SpecialChar = false;
        var Number = false;
        for (var i = 0; i < password.length; i++) {
          if (password[i] >= 'A' && password[i] <= 'Z') {
            CapitalCounter++;
          } else if (parseInt(password[i])) { // Check if the character is a number
            Number = true;
          } else if (!(/[a-zA-Z0-9]/).test(password[i])) { // Check if the character is a special character
            SpecialChar = true;
          }
        }
        if (CapitalCounter < 2 || !SpecialChar || !Number) {
          alert("Invalid password. Check that the password has at least 2 capital letters, 1 special character and 1 number.");
          return false;
        }
      } else {
        alert("Password must have at least 8 characters.");
        return false;
      }
      
      alert("Welcome " + username + "!");
      // Redirect to the home page
      setTimeout(function () {
        window.location.href = "index.html";
      }, 1);

      // Evoid the form to be sent before the redirection
      return false;
    }
  </script>
  <footer>
    <p>Made by: <a href="https://github.com/marioguerra2002/DevWeb_assignment1_Gabriel-Mario.github.io.git">Gabriel Franco and Mario Guerra</a></p>
  </footer>
</body>
</html>
